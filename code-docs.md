PACKAGE DOCUMENTATION

package main
    import "."

    main package is a executable package, therefore it cannot be imported.
    Compile the source code and run the executable, the webserver will be
    accesiable under http://youripaddress:8080.

FUNCTIONS

func DBQuery(query string) (data []DataStruct)
    DBQuery function returns temperature, humidity and timestamp of creation
    of the specified sql query encoded in a json object structured by
    "DataStruct".

func GetAllDataEndpoint(w http.ResponseWriter, req *http.Request)
    GetAllDataEndpoint will server under /data and returns a json object
    with the temperature, humidity and timestamp of creation of all devices
    in the database.

func GetDataByIdEndpoint(w http.ResponseWriter, req *http.Request)
    GetDataByIdEndpoint will serve under /data/{devid} and returns a json
    object with the temperature, humidity and timestamp of creation of the
    specified device.

func GetHumDataByIdEndpoint(w http.ResponseWriter, req *http.Request)
    GetHumDataByIdEndpoint will serve under /data/{devid}/hum and returns a
    json object with the humidity and timestamp of creation of the specified
    device.

func GetHumFromDb(query string) (data []DataStructHum)
    GetHumFromDb function returns humidity and timestamp of creation of the
    specified sql query encoded in a json object structured by
    "DataStructHum".

func GetTempDataByIdEndpoint(w http.ResponseWriter, req *http.Request)
    GetTempDataByIdEndpoint will serve under /data/{devid}/temp and returns
    a json object with the temperature and timestamp of creation of the
    specified device.

func GetTempFromDb(query string) (data []DataStructTemp)
    GetTempFromDb function returns temperature and timestamp of creation of
    the specified sql query encoded in a json object structured by
    "DataStructTemp".

func MailAlert(temp string, hum string)
    MailAlert checks if the temperature and humidity values are greater or
    equal to the hard coded threshold constants (temphigh and humhigh), if
    yes an email will be sent to the configured constant (mailto).
    Temperature and humidity will alert in seperate emails. The constants
    mailfrom (will be used as username too), mailto, mailserver, mailport
    and mailpassword need to be set.

func PutDataEndpoint(w http.ResponseWriter, req *http.Request)
    PutDataEndpoint will store the data given to the endpoint
    /data/[devid]/[temp]/[hum] into the sqllite database. It will too call
    the function MailAlert() with the parameters temp and hum.

TYPES

type DataStruct struct {
    ID        string    `json:"id,omitempty"`
    DeviceID  string    `json:"devid,omitempty"`
    Temp      float64   `json:"temp,omitempty"`
    Hum       float64   `json:"hum,omitempty"`
    Timestamp time.Time `json:"timestamp,omitempty"`
}
    DataStruct type is used for the json object generated by
    GetAllDataEndpoint, GetDataByIdEndpoint and DBQuery.

type DataStructHum struct {
    Time     float64 `json:"time,omitempty"`
    Humidity float64 `json:"humidity,omitempty"`
}
    DataStructHum type is used for the json object generated by
    GetHumDataByIdEndpoint and GetHumFromDb.

type DataStructTemp struct {
    Time        float64 `json:"time,omitempty"`
    Temperature float64 `json:"temperature,omitempty"`
}
    DataStructTemp type is used for the json object generated by
    GetTempDataByIdEndpoint and GetTempFromDb.

SUBDIRECTORIES

	arduino
	pics
	static

